# Minecraft スクリプトアクションロガー ユーザーガイド

## 1. はじめに

このアドオンは、Minecraftでのプレイヤーの行動を自動的に記録し、ゲーム内での活動を分かりやすく確認できるようにするツールです。

主な機能：
- ブロックの使用履歴の記録
- アイテムの作成・使用の追跡
- ゲーム内イベントのログ保存
- 活動の統計情報の表示
- ゲーム時間の管理と表示

## 2. ゲームの開始と終了方法

### 開始方法
1. Minecraftを起動する
2. このアドオンを適用したワールドを開始する
3. 時計アイテムを持って右クリックしてゲームを開始する
   - 自動的にタイマーが開始されます
   - 画面右上に残り時間が表示されます
   - 残り時間が10秒を切ると警告音が鳴ります

### 終了方法
- 時計アイテムを右クリックしてゲームを終了する
- または、タイマーが0になると自動的に終了します

## 3. アイテムの使い方

### 時計アイテム
- 右クリック：ゲームの開始/終了

### 紙アイテム（ログブック）
- 右クリック：ログの表示

### ブロックの操作
以下のブロックの使用が自動的に記録されます：

- 作業台：アイテムのクラフト
- チェスト・樽：アイテムの収納/取り出し
- かまど・高炉：アイテムの精錬
- エンチャント台：エンチャントの付与
- 金床：アイテムの修繕/名前変更
- 醸造台：ポーションの作成
- 石切台：ブロックの加工
- コンポスター：アイテムの堆肥化

各ブロックの操作は自動的に記録され、以下の情報が保存されます：
- 使用したアイテムの数と種類
- 作業の進捗状況
- 作業にかかった時間
- 作業の結果（成功/失敗）

## 4. ログの見方

### コマンドでのログ確認
ゲーム内で以下のコマンドを使用できます（`/scriptevent` コマンドを使用）：

基本コマンド：
- `/scriptevent scriptlog:show [件数]` - 最新のログを表示（デフォルト10件）
- `/scriptevent scriptlog:history` - 全てのログを表示
- `/scriptevent scriptlog:stats` - 統計情報を表示

検索・フィルター：
- `/scriptevent scriptlog:search <キーワード>` - キーワード検索
- `/scriptevent scriptlog:filter <カテゴリ>` - カテゴリでフィルター
- `/scriptevent scriptlog:time <開始Unix秒> <終了Unix秒>` - 時間範囲で表示
- `/scriptevent scriptlog:player <名前>` - プレイヤーで絞り込み

管理コマンド：
- `/scriptevent scriptlog:pause` - ログ記録を一時停止
- `/scriptevent scriptlog:resume` - ログ記録を再開
- `/scriptevent scriptlog:clear` - ログをクリア

## 5. イベントの種類と意味

記録される主なイベント：

1. クラフト関連
   - アイテムの作成開始/完了

2. 収納関連
   - アイテムの収納
   - アイテムの取り出し

3. 加工関連
   - 精錬の開始/完了
   - エンチャントの付与
   - アイテムの修繕

4. エンティティのライフサイクル
   - エンティティの死亡（種類、位置、死因、加害者情報）
   ※プレイヤーは含まれません

5. プレイヤーの状態変化
   - 体力の変化（現在値/最大値）
   - 空腹度の変化（満腹度/満腹度上限）
   - 経験値の変化（レベル、進捗）
   - ステータス効果の追加（効果の種類、強さ、持続時間）
   - ステータス効果の消失

6. その他
   - ブロックの設置/破壊
   - アイテムの使用

## 6. よくある質問

Q: ログは自動的に保存されますか？
A: はい、全ての活動はゲーム時間内であれば自動的に保存されます。

Q: 過去のログを見ることはできますか？
Q: エンティティの状態変化はリアルタイムで記録されますか？
A: はい、エンティティのスポーンと死亡は発生時に即座に記録されます。ただし、プレイヤーのスポーン/死亡は記録対象外です。

Q: プレイヤーの状態変化はどのくらいの頻度で記録されますか？
A: 体力、空腹度、経験値は1秒ごとにチェックされ、変化があった場合のみ記録されます。ステータス効果の追加は即座に記録され、効果の消失は1秒以内に検知されます。

Q: 古いエンティティのログも保存されますか？
A: はい、他のログと同様に最新1000件まで保存されます。`/scriptevent scriptlog:filter entity` コマンドでエンティティ関連のログのみを表示できます。

A: はい、紙アイテムを使用するか `/scriptevent scriptlog:history` コマンドで確認できます。

Q: ログの容量制限はありますか？
A: 最新1000件の操作が保存されます。古いログは自動的に削除されます。

Q: プレイヤーごとの活動を分けて見ることはできますか？
A: はい、`/scriptevent scriptlog:player <プレイヤー名>` で特定のプレイヤーの活動のみを表示できます。

Q: ログ機能を一時的に無効にできますか？
A: はい、`/scriptevent scriptlog:pause` で一時停止、`/scriptevent scriptlog:resume` で再開できます。

Q: タイマーを途中で延長できますか？
A: タイマー関連のコマンドは現在実装されていません。

Q: ゲーム中に時間を確認する方法は？
A: 時計アイテムをスニーク+右クリックすると残り時間が表示されます。

Q: ログの検索で使えるカテゴリは何がありますか？
A: 以下のカテゴリが利用できます：
- craft（クラフト関連）
- storage（収納関連）
- smelt（精錬関連）
- enchant（エンチャント関連）
- repair（修繕関連）
- brew（醸造関連）
- block（ブロック操作）
- move（移動関連）
- entity（エンティティのスポーン/死亡）
- player_state（プレイヤーの状態変化）

## 7. トラブルシューティング

### ログが表示されない場合
1. 紙アイテムを一度インベントリから外し、再度取得する
2. `/scriptevent scriptlog:resume` コマンドでログ記録を再開（一時停止していた場合）
3. ワールドを一度セーブして再ログイン

### タイマーが動作しない場合
1. 時計アイテムを一度インベントリから外し、再度取得する
2. タイマー関連のコマンドは現在実装されていません。
3. 管理者に確認を依頼

### コマンドが機能しない場合
1. 実験的なゲームプレイが有効になっているか確認
2. アドオンが正しく適用されているか確認
